<form id="postForm" name="postForm" ng-submit="data.savePost()" novalidate>
  <div class="composer-column">
    <div class="composer">
      <textarea ng-model="data.post.body"
                redactor="redactorOptions"
                class="editor">
      </textarea>
    </div>
  </div>

  <div class="details-column">
    <div class="publish-row">
      <div class="publish-column">
        <div class="publish-panel">
          <div class="heading">
            <i class="fa fa-sitemap"></i> Publish/Distribute
          </div>
          <div class="content">
            <label>Publishing State</label>
            <div class="form-group row">
              <div class="draft">
                <input
                        bs-switch
                        ng-model="data.post.draft"
                        type="checkbox"
                        switch-active="true"
                        switch-on-text="Draft"
                        switch-off-text="Publish"
                        switch-on-color="default"
                        switch-off-color="primary"
                        switch-icon="fa fa-upload"
                        switch-animate="true"/>
              </div>
            </div>
            <div class="form-group row">
              <div class="publish-date">
                <label for="publish-date">Publish At *</label>
                <div class="input-group">
                  <input id="publish-date" name="publish-date" type="text" class="form-control"
                         ng-model="data.post.published_at" placeholder="Publish time (optional)"
                         datepicker-popup="MMMM dd yyyy, h:mm:ss a" is-open="datepicker.publishAtOpen"
                         show-weeks="false" ng-disabled="data.post.draft">
                <span class="input-group-btn">
                  <button class="btn btn-default" type="button"
                          ng-click="datepicker.open('publishAtOpen')" ng-disabled="data.post.draft">
                    <i class="fa fa-calendar"></i>
                  </button>
                </span>
                </div>
              </div>
              <div class="expiration-date">
                <label for="expiration-date">Expire Post At</label>
                <div class="input-group">
                  <input id="expiration-date" name="expiration-date" type="text" class="form-control"
                         ng-model="data.post.expired_at" placeholder="Expiration time (optional)"
                         datepicker-popup="MMMM dd yyyy, h:mm:ss a" is-open="datepicker.expireAtOpen"
                         show-weeks="false" ng-disabled="data.post.draft">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="button"
                            ng-click="datepicker.open('expireAtOpen')" ng-disabled="data.post.draft">
                      <i class="fa fa-calendar"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="actions">
                <div class="actions-group btn-group">
                  <button type="button" class="btn cancel" ng-click="data.cancel()">
                    <i class="fa fa-reply"></i> Cancel
                  </button>
                  <button type="submit" class="btn submit" >
                    <i class="fa fa-cloud-upload"></i> {{ data.post.draft ? "Save" : "Post" }}
                  </button>
                </div>
              </div>
            </div>
            <div class="form-status" ng-show="postForm.$invalid">Please fill out the required fields, marked with a *</div>
          </div>
        </div>
      </div>
    </div>

    <div class="metadata-row">
      <div class="metadata-column">
        <tabset class="panel-tabs" justified="true">
          <tab>
            <tab-heading><span class="info-tab" tab-errors data-selector-name=".info-tab"><i class="fa fa-info-circle"></i> 1. Info</span></tab-heading>

            <div class="info">
              <div class="post-type-group">
                <label>Post Type *</label>

                <div class="btn-group btn-group-justified" data-toggle="buttons">
                  <label class="btn btn-default" ui-sref=".sections.article" ui-sref-active="active" ng-model="data.post.type" btn-radio="'ArticlePost'" uncheckable required>
                    <i class="fa fa-quote-right hidden-md hidden-sm hidden-xs"></i> Article
                  </label>
                  <label class="btn btn-default" ui-sref=".sections.video" ui-sref-active="active" ng-model="data.post.type" btn-radio="'VideoPost'" uncheckable required>
                    <i class="fa fa-video-camera hidden-md hidden-sm hidden-xs"></i> Video
                  </label>
                  <label class="btn btn-default" ui-sref=".sections.infographic" ui-sref-active="active" ng-model="data.post.type" btn-radio="'InfographicPost'" uncheckable required>
                    <i class="fa fa-picture-o hidden-md hidden-sm hidden-xs"></i> Infographic
                  </label>
                  <label class="btn btn-default" ui-sref=".sections.promo" ui-sref-active="active" ng-model="data.post.type" btn-radio="'PromoPost'" uncheckable required>
                    <i class="fa fa-bullhorn hidden-md hidden-sm hidden-xs"></i> Promo
                  </label>
                </div>
              </div>

              <div ui-view="info"></div>
            </div>
          </tab>
          <tab>
            <tab-heading><span class="classify-tab" tab-errors data-selector-name=".classify-tab"><i class="fa fa-tag"></i> 2. Classify</span></tab-heading>

            <div class="classify">
              <div ui-view="classify"></div>
            </div>
          </tab>
          <tab>
            <tab-heading><span class="display-tab" tab-errors data-selector-name=".display-tab"><i class="fa fa-eye"></i> 3. Display</span></tab-heading>

            <div class="display">
              <div ui-view="display"></div>
            </div>
          </tab>
          <tab>
            <tab-heading data-content-class="seo" tab-errors data-selector-name=".seo-tab"><span class="seo-tab"><i class="fa fa-search"></i> 4. SEO</span></tab-heading>

            <div class="seo">
              <div ui-view="seo"></div>
            </div>
          </tab>
        </tabset>
      </div>
    </div>
    <small>Fields marked with * are required. Your input will be retained between tabs.</small>
  </div>
</form>

<!-- Media Popup -->
<div ui-view="popup"></div>
